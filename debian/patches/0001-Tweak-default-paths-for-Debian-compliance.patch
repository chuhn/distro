From: Christopher Huhn <C.Huhn@gsi.de>
Date: Fri, 6 Nov 2015 17:18:51 +0100
Subject: Tweak default paths for Debian compliance

---
 core/bin/setlib.cfg   | 5 +----
 core/lib/Foswiki.spec | 4 ++--
 2 files changed, 3 insertions(+), 6 deletions(-)

diff --git a/core/bin/setlib.cfg b/core/bin/setlib.cfg
index a99bc21..012e880 100755
--- a/core/bin/setlib.cfg
+++ b/core/bin/setlib.cfg
@@ -31,15 +31,12 @@ unless (( defined ($foswikiLibPath) ) and (-e $foswikiLibPath)) {
 	( $foswikiLibPath ) = ($foswikiLibPath = Cwd::abs_path( "$bindir../lib" )) =~ /(.*)/;
 }
 if ($foswikiLibPath eq "") {
-    $foswikiLibPath = "../lib";
-    warn "using relative path for libs - some plugins may break";
+    $foswikiLibPath = "/usr/share/foswiki/lib";
 }
 
 # Prepend to @INC, the Perl search path for modules
 unshift @INC, $foswikiLibPath;
 unshift @INC, @localPerlLibPath if @localPerlLibPath;
-# Append lib/CPAN/lib for absolutely needed dependencies
-push @INC, "$foswikiLibPath/CPAN/lib";
 
 # Foswiki won't run at all without these:
 my %missing;
diff --git a/core/lib/Foswiki.spec b/core/lib/Foswiki.spec
index 3980c0a..c5eb524 100644
--- a/core/lib/Foswiki.spec
+++ b/core/lib/Foswiki.spec
@@ -155,7 +155,7 @@ $Foswiki::cfg{PermittedRedirectHostUrls} = '';
 # **PATH LABEL="Template Directory" FEEDBACK="icon='ui-icon-check';label='Validate Permissions'; method='validate_permissions'" CHECK="noemptyok perms:rD" **
 # File path to templates directory. For example =/usr/local/foswiki/templates=.
 # This directory must not be web accessible.
-# $Foswiki::cfg{TemplateDir} = '/home/httpd/foswiki/templates';
+$Foswiki::cfg{TemplateDir} = '/usr/share/foswiki/templates';
 
 # **PATH LABEL="Locales Directory" FEEDBACK="icon='ui-icon-check';label='Validate Permissions'; method='validate_permissions'" CHECK="noemptyok perms:rD" **
 # File path to locale directory.
@@ -1135,7 +1135,7 @@ $Foswiki::cfg{Log}{Implementation} = 'Foswiki::Logger::PlainFile';
 # **PATH LABEL="Log Directory"**
 # Directory where log files will be written.  Note that the Compatibility
 # Logger does not use this setting by default.
-$Foswiki::cfg{Log}{Dir} = '$Foswiki::cfg{WorkingDir}/logs';
+$Foswiki::cfg{Log}{Dir} = '/var/log/foswiki';
 
 # **BOOLEAN LABEL="Obfuscate IP Addresses" DISPLAY_IF="/PlainFile::Obfuscating/i.test({Log}{Implementation})" CHECK="iff:'{Log}{Implementation} =~ /PlainFile::Obfuscating/'"**
 # The Obfuscating logger can either replace IP addresses with a hashed address
